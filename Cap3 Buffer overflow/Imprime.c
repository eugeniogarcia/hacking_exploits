#include <stdlib.h>
#include <stdio.h>
#include <string.h>

#pragma warning(disable : 4996)

void imprime(char* mensaje);
void contenido(unsigned char *mensaje, int largo);

/* Visualiza la direccion a la que apunta un puntero con %p, y el contenido de memoria*/

int main(int argc, char **argv)
{
    char *explota="N/A";
    if (argc>1){
        explota=argv[1];
    }    
    imprime(explota);
}

void imprime(char * mensaje){
    char buffer[64];
    strcpy(buffer, mensaje);
    printf("Mensaje: %p\n",buffer);
    contenido(buffer,strlen(buffer));
    return;
}

void contenido(unsigned char *mensaje, int largo)
{
    printf("Mensaje:\n");
    for (int i = 0; i < largo; i++)
    {
        printf("%02x ", mensaje[i]);
        if (i % 16 == 15) // Print a newline every 16 bytes.
            printf("\n");
    }
    printf("\n");
    return;
}